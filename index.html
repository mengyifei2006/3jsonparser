<!DOCTYPE html>
<html lang="en" class="scroll-smooth antialiased">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON Parser Pro - The Ultimate IDE-Grade Editor</title>
    <meta name="description" content="Professional JSON Editor with IDE-grade experience. Validate, format, minify, and fix JSON in a unified, Apple-style interface.">
    
    <!-- Google Fonts: JetBrains Mono & Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'sans-serif'],
                        mono: ['JetBrains Mono', 'Menlo', 'Monaco', 'Courier New', 'monospace'],
                    },
                    colors: {
                        indigo: {
                            500: '#6366f1',
                            600: '#4f46e5',
                            50: '#eef2ff',
                        },
                        slate: {
                            50: '#f8fafc',
                            100: '#f1f5f9',
                            200: '#e2e8f0',
                            800: '#1e293b',
                            900: '#0f172a',
                        }
                    },
                    boxShadow: {
                        'glow': '0 0 40px rgba(99, 102, 241, 0.1)',
                        'ide': '0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 0 0 1px rgba(0,0,0,0.03)',
                    }
                }
            }
        }
    </script>

    <!-- Schema.org JSON-LD -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "JSON Parser Pro",
      "applicationCategory": "DeveloperTool",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "description": "IDE-grade JSON validator and formatter with smart error fixing.",
      "featureList": "JSON Validation, Beautification, Minification, Error Fixing"
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [{
        "@type": "Question",
        "name": "What is JSON validation?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "JSON validation is the process of checking if your JSON code follows the official syntax rules defined by RFC 8259. It ensures data integrity before processing."
        }
      }, {
        "@type": "Question",
        "name": "How do I fix trailing commas in JSON?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Our tool automatically removes trailing commas from arrays and objects when you click the 'Fix JSON' button, making your code valid instantly."
        }
      }, {
        "@type": "Question",
        "name": "Can I convert single quotes to double quotes?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes. Standard JSON requires double quotes. Our auto-fix engine detects single-quoted keys and strings and converts them to valid double quotes."
        }
      }, {
        "@type": "Question",
        "name": "Is my data safe?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Absolutely. JSON Parser Pro runs entirely in your browser. No data is sent to any server, ensuring 100% privacy and security."
        }
      }, {
        "@type": "Question",
        "name": "What is the difference between Minify and Format?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Format (Prettify) adds whitespace and indentation to make JSON readable for humans. Minify removes all unnecessary whitespace to reduce file size for computers."
        }
      }]
    }
    </script>

    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        ::-webkit-scrollbar-thumb {
            background-color: #cbd5e1;
            border-radius: 5px;
            border: 2px solid transparent;
            background-clip: content-box;
        }
        ::-webkit-scrollbar-thumb:hover {
            background-color: #94a3b8;
        }

        /* Glassmorphism & Aurora */
        .aurora-bg {
            background: radial-gradient(circle at 50% -20%, rgba(99, 102, 241, 0.08) 0%, rgba(255, 255, 255, 0) 50%),
                        radial-gradient(circle at 100% 0%, rgba(236, 72, 153, 0.03) 0%, rgba(255, 255, 255, 0) 30%),
                        radial-gradient(circle at 0% 0%, rgba(56, 189, 248, 0.03) 0%, rgba(255, 255, 255, 0) 30%);
            background-color: #f8fafc;
        }

        /* Editor Line Numbers */
        .line-numbers {
            user-select: none;
            text-align: right;
        }

        /* Click Feedback */
        .btn-active:active {
            transform: scale(0.96);
        }
        
        .toolbar-btn {
            @apply btn-active flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors shadow-sm;
        }

        /* FAQ Details */
        details > summary {
            list-style: none;
        }
        details > summary::-webkit-details-marker {
            display: none;
        }
        details[open] summary ~ * {
            animation: sweep .3s ease-in-out;
        }
        @keyframes sweep {
            0%    {opacity: 0; transform: translateY(-10px)}
            100%  {opacity: 1; transform: translateY(0)}
        }
    </style>
</head>
<body class="aurora-bg text-slate-800 min-h-screen flex flex-col font-sans selection:bg-indigo-100 selection:text-indigo-700">

    <!-- Top Navigation -->
    <nav class="w-full h-14 flex items-center justify-between px-6 lg:px-8 shrink-0 border-b border-slate-200/60 bg-white/50 backdrop-blur-sm sticky top-0 z-30">
        <div class="flex items-center gap-2">
            <div class="w-6 h-6 rounded bg-indigo-600 flex items-center justify-center text-white shadow-sm">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/></svg>
            </div>
            <span class="font-bold text-base tracking-tight text-slate-900">JSON Parser <span class="text-indigo-600">Pro</span></span>
        </div>
        <div class="hidden md:flex items-center gap-6 text-sm font-medium text-slate-500">
            <a href="#guide" class="hover:text-indigo-600 transition-colors">Guide</a>
            <a href="#faq" class="hover:text-indigo-600 transition-colors">FAQ</a>
            <a href="https://github.com" target="_blank" class="hover:text-slate-900 transition-colors">GitHub</a>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="flex-grow container mx-auto max-w-[1800px] px-4 py-6 flex flex-col gap-8">
        
        <!-- IDE Container -->
        <div class="bg-white rounded-2xl shadow-ide border border-slate-200 flex flex-col h-[75vh] min-h-[600px] overflow-hidden">
            
            <!-- Unified Toolbar -->
            <div class="h-14 border-b border-slate-100 flex items-center justify-between px-4 bg-white shrink-0">
                <!-- Left: Status -->
                <div class="flex items-center gap-4">
                    <div id="status-indicator" class="flex items-center gap-2 px-3 py-1 rounded-full bg-slate-50 text-slate-500 text-xs font-semibold border border-slate-100 transition-colors">
                        <span class="w-2 h-2 rounded-full bg-slate-400"></span>
                        <span id="status-text">Ready</span>
                    </div>
                </div>

                <!-- Right: Actions -->
                <div class="flex items-center gap-2">
                    <button id="btn-fix" class="toolbar-btn text-amber-700 bg-amber-50 hover:bg-amber-100 border border-amber-100" title="Smart Fix">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/></svg>
                        <span>Fix JSON</span>
                    </button>
                    <div class="w-px h-6 bg-slate-200 mx-1"></div>
                    <button id="btn-format" class="toolbar-btn text-white bg-indigo-600 hover:bg-indigo-700 shadow-indigo-200" title="Format">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"/></svg>
                        <span>Format</span>
                    </button>
                    <button id="btn-minify" class="toolbar-btn text-slate-700 bg-white border border-slate-200 hover:bg-slate-50" title="Minify">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"/></svg>
                        <span>Minify</span>
                    </button>
                    <button id="btn-copy" class="toolbar-btn text-slate-700 bg-white border border-slate-200 hover:bg-slate-50" title="Copy Result">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
                        <span class="hidden sm:inline">Copy</span>
                    </button>
                    <button id="btn-clear" class="p-2 text-slate-400 hover:text-rose-500 transition-colors ml-1" title="Clear All">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                    </button>
                </div>
            </div>

            <!-- Split Editor Area -->
            <div class="flex-1 flex flex-col lg:flex-row overflow-hidden relative">
                
                <!-- Left: Input -->
                <div class="flex-1 flex flex-col min-w-0 bg-white relative group">
                    <div class="flex-1 relative flex text-sm font-mono">
                        <!-- Line Numbers -->
                        <div class="w-12 bg-slate-50 border-r border-slate-100 text-slate-400 py-4 px-2 text-right select-none overflow-hidden shrink-0 leading-6 text-xs" aria-hidden="true">
                            <div id="line-numbers">1</div>
                        </div>
                        <!-- Textarea -->
                        <textarea id="json-input" class="flex-1 w-full h-full p-4 bg-transparent border-none outline-none resize-none leading-6 text-slate-700 placeholder-slate-300 whitespace-pre" spellcheck="false" placeholder='Paste your JSON here...'></textarea>
                    </div>

                    <!-- Error Bar (Sticky Bottom) -->
                    <div id="error-bar" class="absolute bottom-0 left-0 right-0 hidden bg-rose-50 border-t border-rose-100 px-4 py-2 flex items-center justify-between text-xs z-20">
                         <div class="flex items-center gap-2 text-rose-600 font-mono">
                            <svg class="w-4 h-4 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                            <span id="error-msg" class="font-semibold truncate">Error parsing JSON</span>
                         </div>
                         <button onclick="hideError()" class="text-rose-400 hover:text-rose-600">
                             <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                         </button>
                    </div>
                </div>

                <!-- Divider -->
                <div class="h-px lg:h-full lg:w-px bg-slate-200 shrink-0 relative z-10"></div>

                <!-- Right: Output -->
                <div class="flex-1 flex flex-col min-w-0 bg-slate-50/50">
                    <div class="flex-1 relative flex text-sm font-mono">
                         <textarea id="json-output" class="flex-1 w-full h-full p-4 bg-transparent border-none outline-none resize-none leading-6 text-slate-600 custom-scrollbar" readonly placeholder="Parsed result will appear here..."></textarea>
                    </div>
                </div>

                <!-- Success Toast -->
                <div id="toast" class="absolute top-4 left-1/2 -translate-x-1/2 transition-all duration-300 opacity-0 -translate-y-4 pointer-events-none z-50">
                    <div class="bg-slate-800 text-white px-4 py-2 rounded-full shadow-xl text-xs font-medium flex items-center gap-2">
                        <svg class="w-4 h-4 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
                        <span id="toast-msg">Action Successful</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Full Width Ad Slot -->
        <div class="w-full h-24 border border-dashed border-slate-300 rounded-xl flex items-center justify-center bg-white/40 text-slate-400">
            <span class="text-xs font-semibold tracking-wider uppercase">Sponsor / Ad Banner (Full Width)</span>
        </div>

        <!-- SEO Content Section -->
        <article class="prose prose-slate max-w-none bg-white rounded-2xl shadow-sm border border-slate-200 p-8 lg:p-12">
            
            <section id="guide" class="mb-12">
                <h2 class="text-2xl font-bold text-slate-900 mb-6 flex items-center gap-2">
                    <svg class="w-6 h-6 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/></svg>
                    What is JSON and why validate it?
                </h2>
                <div class="grid lg:grid-cols-2 gap-8 text-slate-600 leading-relaxed">
                    <div>
                        <p class="mb-4"><strong>JSON (JavaScript Object Notation)</strong> is the backbone of modern web data. It's a lightweight format used for storing and transporting data between servers and web pages. However, JSON is notoriously unforgiving. A single misplaced comma or a missing quote can crash an entire application.</p>
                        <p>Validation is the critical step of ensuring your JSON string conforms to the strict syntax rules defined by <a href="https://datatracker.ietf.org/doc/html/rfc8259" class="text-indigo-600 hover:underline">RFC 8259</a>. Our tool acts as your first line of defense, catching syntax errors before they hit production.</p>
                    </div>
                    <div class="bg-slate-50 rounded-lg p-6 border border-slate-100 text-sm font-mono">
                        <p class="text-slate-400 mb-2">// Valid JSON Example</p>
                        <p class="text-emerald-600">{</p>
                        <p class="pl-4 text-emerald-600">"name": "Project Alpha",</p>
                        <p class="pl-4 text-emerald-600">"status": "Active",</p>
                        <p class="pl-4 text-emerald-600">"count": 42</p>
                        <p class="text-emerald-600">}</p>
                    </div>
                </div>
            </section>

            <section class="mb-12">
                <h2 class="text-2xl font-bold text-slate-900 mb-6 flex items-center gap-2">
                    <svg class="w-6 h-6 text-amber-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/></svg>
                    Common JSON Errors We Fix
                </h2>
                <p class="text-slate-600 mb-6">Even experienced developers make mistakes. Our "Smart Fix" engine is designed to handle the most common frustrations automatically:</p>
                <div class="grid md:grid-cols-3 gap-6">
                    <div class="bg-white border border-slate-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow">
                        <div class="font-bold text-slate-800 mb-2">Trailing Commas</div>
                        <p class="text-sm text-slate-500 mb-3">JSON does not allow a comma after the last element in an array or object.</p>
                        <code class="bg-rose-50 text-rose-600 text-xs px-2 py-1 rounded">{"a": 1,}</code>
                    </div>
                    <div class="bg-white border border-slate-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow">
                        <div class="font-bold text-slate-800 mb-2">Single Quotes</div>
                        <p class="text-sm text-slate-500 mb-3">JSON requires double quotes for keys and string values. Single quotes are invalid.</p>
                        <code class="bg-rose-50 text-rose-600 text-xs px-2 py-1 rounded">{'key': 'value'}</code>
                    </div>
                    <div class="bg-white border border-slate-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow">
                        <div class="font-bold text-slate-800 mb-2">Unquoted Keys</div>
                        <p class="text-sm text-slate-500 mb-3">Unlike JavaScript objects, JSON keys must always be enclosed in double quotes.</p>
                        <code class="bg-rose-50 text-rose-600 text-xs px-2 py-1 rounded">{key: "value"}</code>
                    </div>
                </div>
            </section>

            <section class="mb-12">
                <h2 class="text-2xl font-bold text-slate-900 mb-6 flex items-center gap-2">
                    <svg class="w-6 h-6 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"/></svg>
                    How to Use This Tool
                </h2>
                <div class="space-y-4">
                    <div class="flex gap-4">
                        <div class="flex-shrink-0 w-8 h-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold">1</div>
                        <div>
                            <h3 class="font-semibold text-slate-900">Paste Your Data</h3>
                            <p class="text-slate-600 text-sm mt-1">Simply copy your JSON code and paste it into the left editor panel. The tool will immediately start analyzing the syntax.</p>
                        </div>
                    </div>
                    <div class="flex gap-4">
                        <div class="flex-shrink-0 w-8 h-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold">2</div>
                        <div>
                            <h3 class="font-semibold text-slate-900">Check the Status</h3>
                            <p class="text-slate-600 text-sm mt-1">Look at the status indicator in the toolbar. Green means valid, red means there's an error. If there's an error, a red bar will appear at the bottom detailing the exact line number.</p>
                        </div>
                    </div>
                    <div class="flex gap-4">
                        <div class="flex-shrink-0 w-8 h-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold">3</div>
                        <div>
                            <h3 class="font-semibold text-slate-900">Format or Fix</h3>
                            <p class="text-slate-600 text-sm mt-1">Use the <strong>Format</strong> button to beautify messy code. If errors are found, click <strong>Fix JSON</strong> to let our engine attempt an automatic repair.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="faq">
                <h2 class="text-2xl font-bold text-slate-900 mb-6">Frequently Asked Questions</h2>
                <div class="space-y-4">
                    <details class="group bg-slate-50 rounded-xl border border-slate-200 overflow-hidden">
                        <summary class="flex justify-between items-center font-medium cursor-pointer list-none p-4 text-slate-800 hover:bg-slate-100 transition-colors">
                            <span>Is my JSON data sent to your server?</span>
                            <span class="transition group-open:rotate-180">
                                <svg fill="none" height="24" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="24"><path d="M6 9l6 6 6-6"></path></svg>
                            </span>
                        </summary>
                        <div class="text-slate-600 p-4 pt-0 text-sm leading-relaxed">
                            No. This tool is a client-side application. All processing happens right here in your browser's memory using JavaScript. Your sensitive data never leaves your device.
                        </div>
                    </details>
                    
                    <details class="group bg-slate-50 rounded-xl border border-slate-200 overflow-hidden">
                        <summary class="flex justify-between items-center font-medium cursor-pointer list-none p-4 text-slate-800 hover:bg-slate-100 transition-colors">
                            <span>Why is my valid JavaScript object showing as invalid JSON?</span>
                            <span class="transition group-open:rotate-180">
                                <svg fill="none" height="24" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="24"><path d="M6 9l6 6 6-6"></path></svg>
                            </span>
                        </summary>
                        <div class="text-slate-600 p-4 pt-0 text-sm leading-relaxed">
                            JavaScript objects and JSON are similar but not identical. JSON requires all keys to be double-quoted (e.g., <code>"key": "value"</code>), whereas JavaScript allows unquoted keys (<code>key: "value"</code>). Our tool can fix this for you automatically.
                        </div>
                    </details>

                    <details class="group bg-slate-50 rounded-xl border border-slate-200 overflow-hidden">
                        <summary class="flex justify-between items-center font-medium cursor-pointer list-none p-4 text-slate-800 hover:bg-slate-100 transition-colors">
                            <span>Does this tool support comments in JSON?</span>
                            <span class="transition group-open:rotate-180">
                                <svg fill="none" height="24" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="24"><path d="M6 9l6 6 6-6"></path></svg>
                            </span>
                        </summary>
                        <div class="text-slate-600 p-4 pt-0 text-sm leading-relaxed">
                            Standard JSON (RFC 8259) does not support comments. However, some parsers (like JSON5) do. This validator strictly adheres to the standard to ensure maximum compatibility with all systems.
                        </div>
                    </details>
                    
                    <details class="group bg-slate-50 rounded-xl border border-slate-200 overflow-hidden">
                        <summary class="flex justify-between items-center font-medium cursor-pointer list-none p-4 text-slate-800 hover:bg-slate-100 transition-colors">
                            <span>How large of a file can I paste?</span>
                            <span class="transition group-open:rotate-180">
                                <svg fill="none" height="24" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="24"><path d="M6 9l6 6 6-6"></path></svg>
                            </span>
                        </summary>
                        <div class="text-slate-600 p-4 pt-0 text-sm leading-relaxed">
                            Since we use your browser's engine, performance depends on your device. However, we have optimized the rendering to handle files up to 5MB smoothly, which covers 99% of use cases.
                        </div>
                    </details>
                </div>
            </section>
        </article>

        <!-- Simple Footer -->
        <footer class="text-center text-slate-400 text-xs py-4">
            &copy; 2026 JSON Parser Pro. Designed for performance.
        </footer>
    </main>

    <script>
        // DOM Elements
        const inputEl = document.getElementById('json-input');
        const outputEl = document.getElementById('json-output');
        const lineNumbersEl = document.getElementById('line-numbers');
        const errorBar = document.getElementById('error-bar');
        const errorMsg = document.getElementById('error-msg');
        
        // Status Elements
        const statusIndicator = document.getElementById('status-indicator');
        const statusText = document.getElementById('status-text');
        const statusDot = statusIndicator.querySelector('span');

        const toast = document.getElementById('toast');
        const toastMsg = document.getElementById('toast-msg');

        // Buttons
        const btnFormat = document.getElementById('btn-format');
        const btnMinify = document.getElementById('btn-minify');
        const btnFix = document.getElementById('btn-fix');
        const btnCopy = document.getElementById('btn-copy');
        const btnClear = document.getElementById('btn-clear');

        // Logic
        let debounceTimer;

        // Line Numbers Logic
        const updateLineNumbers = () => {
            const lines = inputEl.value.split('\n').length;
            const currentCount = lineNumbersEl.childElementCount;
            
            if (lines !== currentCount) {
                lineNumbersEl.innerHTML = Array(lines).fill(0).map((_, i) => `<div>${i + 1}</div>`).join('');
            }
        };

        const syncScroll = () => {
            lineNumbersEl.parentElement.scrollTop = inputEl.scrollTop;
        };

        // Status Logic
        const updateStatus = (type) => { // 'valid', 'invalid', 'empty'
            // Reset classes
            statusIndicator.className = 'flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold border transition-colors duration-300';
            statusDot.className = 'w-2 h-2 rounded-full';
            
            if (type === 'valid') {
                statusText.textContent = 'Valid JSON';
                statusIndicator.classList.add('bg-emerald-50', 'text-emerald-600', 'border-emerald-100');
                statusDot.classList.add('bg-emerald-500');
            } else if (type === 'invalid') {
                statusText.textContent = 'Invalid JSON';
                statusIndicator.classList.add('bg-rose-50', 'text-rose-600', 'border-rose-100');
                statusDot.classList.add('bg-rose-500');
            } else {
                statusText.textContent = 'Ready';
                statusIndicator.classList.add('bg-slate-50', 'text-slate-500', 'border-slate-100');
                statusDot.classList.add('bg-slate-400');
            }
        };

        const showError = (msg) => {
            errorBar.classList.remove('hidden');
            errorMsg.textContent = msg;
            updateStatus('invalid');
        };

        const hideError = () => {
            errorBar.classList.add('hidden');
        };

        const validate = (text) => {
            if (!text.trim()) {
                updateStatus('empty');
                hideError();
                outputEl.value = '';
                return null;
            }
            try {
                const parsed = JSON.parse(text);
                hideError();
                updateStatus('valid');
                // Auto-format output on successful validation
                outputEl.value = JSON.stringify(parsed, null, 2);
                return parsed;
            } catch (e) {
                showError(e.message);
                outputEl.value = '';
                return null;
            }
        };

        const showToast = (msg) => {
            toastMsg.textContent = msg || 'Action Successful';
            toast.classList.remove('opacity-0', '-translate-y-4');
            setTimeout(() => toast.classList.add('opacity-0', '-translate-y-4'), 2000);
        };

        // Actions
        const format = () => {
            const parsed = validate(inputEl.value);
            if (parsed) {
                inputEl.value = JSON.stringify(parsed, null, 2);
                outputEl.value = inputEl.value;
                updateLineNumbers();
                showToast('Formatted successfully');
            }
        };

        const minify = () => {
            const parsed = validate(inputEl.value);
            if (parsed) {
                const minified = JSON.stringify(parsed);
                outputEl.value = minified;
                // Optional: Minify input too or just output? Usually output.
                // But let's keep input readable or let user decide. 
                // Let's just update output for minify button.
                showToast('Minified successfully');
            }
        };

        const fix = () => {
            let text = inputEl.value;
            if (!text.trim()) return;

            // Basic Fixes
            // 1. Remove trailing commas
            text = text.replace(/,(\s*[}\]])/g, '$1');
            
            // 2. Convert single quotes to double quotes for keys
            text = text.replace(/([{,]\s*)'([^']+)'(\s*:)/g, '$1"$2"$3');
            
            // 3. Convert single quotes to double quotes for values
            text = text.replace(/:\s*'([^']+)'/g, ': "$1"');

            // 4. Quote unquoted keys (simple alphanumeric)
            text = text.replace(/([{,]\s*)([a-zA-Z0-9_]+)(\s*:)/g, '$1"$2"$3');

            inputEl.value = text;
            updateLineNumbers();
            
            // Try to validate
            const parsed = validate(text);
            if (parsed) {
                showToast('Fixed JSON automatically');
            } else {
                showToast('Attempted fix, but errors remain');
            }
        };

        const copyToClipboard = () => {
            if (!outputEl.value) return;
            navigator.clipboard.writeText(outputEl.value).then(() => {
                showToast('Copied to clipboard');
            });
        };

        const clearAll = () => {
            inputEl.value = '';
            outputEl.value = '';
            updateLineNumbers();
            updateStatus('empty');
            hideError();
        };

        // Event Listeners
        inputEl.addEventListener('input', () => {
            updateLineNumbers();
            clearTimeout(debounceTimer);
            debounceTimer = setTimeout(() => {
                validate(inputEl.value);
            }, 300);
        });

        inputEl.addEventListener('scroll', syncScroll);
        
        // Button Events
        btnFormat.addEventListener('click', format);
        btnMinify.addEventListener('click', minify);
        btnFix.addEventListener('click', fix);
        btnCopy.addEventListener('click', copyToClipboard);
        btnClear.addEventListener('click', clearAll);

        // Initial setup
        updateLineNumbers();
    </script>
</body>
</html>
